openapi: 3.0.3
info:
  title: API –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
  version: 1.0.0
  description: |-
    API –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã, –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏, –æ—Å—Ç–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–µ—Å—Ç–∞.
  contact:
    email: poltora.dev@gmail.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - url: https://social-network-for-travellers.ru/api/v1
paths:
  /posts:
    post:
      tags:
        - posts
      summary: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ 
      security:
        - BearerAuth: []
      requestBody:
        description: –û–±—ä–µ–∫—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCreateUpdate'
      responses:
        '201':
          description: —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      tags:
        - posts
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤. –í —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø–æ—Å—Ç—ã –º–æ–≥—É—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ (lat, lon, radius), –ø–æ user_id (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–∞—Å—Ç–æ–º–µ—Ä–∞)
      security:
        - BearerAuth: []
      parameters:
        - name: feed_type
          in: query
          required: true
          description: |
            –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ –ø–æ—Å—Ç—ã –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
            - `public` ‚Äì –ø–æ—Å—Ç—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–¥–ø–∏—Å–∞–Ω —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ª–µ–Ω—Ç–∞).
            - `private` ‚Äì —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç).
            - `popular` ‚Äì –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–æ—Å—Ç—ã. C–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ä–µ–∞–∫—Ü–∏–π (`reactions`), –Ω–æ –º–æ–≥—É—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º (`comments_count`).
          schema:
            type: string
            enum: [public, private, popular]
        - name: sort_by
          in: query
          description: "–ö—Ä–∏—Ç–µ—Ä–∏–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤"
          required: false
          schema:
            type: string
            enum: [reactions, comments]
            example: reactions
        - name: location_id
          in: query
          schema:
            type: string
            format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        - name: radius
          in: query
          description: –†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞
          required: false
          schema:
            type: number
            format: int32
            maximum: 10
            example: 5
        - name: page
          in: query
          description: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (1 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
          required: false
          schema:
            type: number
            format: int32
        - name: limit
          in: query
          description: –õ–∏–º–∏—Ç –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (10 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
          required: false
          schema:
            type: number
            format: int32
      responses:
        '200':
          description: –ú–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  posts:
                    type: array
                    items:
                      $ref: '#/components/schemas/GetPost'
                  page:
                    type: number
                    format: int32
                  limit:
                    type: number
                    format: int32
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ—Ç–Ω—ã–π –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: –ü–æ—Å—Ç—ã –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /posts/{postId}:
    get:
      tags:
        - posts
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–¥–Ω–æ–º—É –ø–æ—Å—Ç—É. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —É—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–∞–∫, —á—Ç–æ —Ä–µ–∞–∫—Ü–∏–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤–º–µ—Å—Ç–µ —Å –ø–æ—Å—Ç–æ–º –∏ –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 5-—é —Ä–µ–∞–∫—Ü–∏—è–º–∏ –Ω–∞ –ø–æ—Å—Ç.
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          description: ID –ø–æ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: –ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –≤–æ–∑–≤—Ä–∞—â–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetPost'
        '404':
          description: –ü–æ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      tags:
        - posts
      summary: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç.
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          description: id of post to return
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: –û–±—ä–µ–∫—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCreateUpdate'
      responses:
        '200':
          description: –ø–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ—Å—Ç–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    patch:
      tags:
        - posts
      summary: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø–∏—Å–∞–Ω–∏–µ.
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: –û–±—ä–µ–∫—Ç —Å –∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PostCreateUpdate'
      responses:
        '200':
          description: –ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      tags:
        - posts
      summary: –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–π –ø–æ—Å—Ç.
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: –ü–æ—Å—Ç —É–¥–∞–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '403':
          description: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω (–ø–æ—Å—Ç –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: –ü–æ—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /posts/{postId}/comments:
    get:
      tags:
        - comments
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è –ø–æ—Å—Ç–∞.
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          description: id –ø–æ—Å—Ç–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
          required: true
          schema:
            type: string
            format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        - name: page
          in: query
          description: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (1 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
          required: false
          schema:
            type: number
            format: int32
        - name: limit
          in: query
          description: –õ–∏–º–∏—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (10 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
          required: false
          schema:
            type: number
            format: int32
      responses:
        '200':
          description: –ú–∞—Å—Å–∏–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  comments:
                    type: array
                    items:
                      $ref: '#/components/schemas/Comment'
                  page:
                    type: number
                    format: int32
                  limit:
                    type: number
                    format: int32
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ—Ç–Ω—ã–π –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    post:
      tags:
        - comments
      summary: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∫ –ø–æ—Å—Ç—É
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          description: id –ø–æ—Å—Ç–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
          required: true
          schema:
            type: string
            format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Comment'
      responses:
        '200':
          description: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /posts/{postId}/reactions:
    post:
      tags:
        - reactions
      summary: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Å—Ç
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Å—Ç –æ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          description: id –ø–æ—Å—Ç–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
          required: true
          schema:
            type: string
            format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                reaction_id:
                  type: string
                  format: uuid
                  example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
                  description: "ID –¥–æ—Å—Ç—É–ø–Ω–æ–π —Ä–µ–∞–∫—Ü–∏–∏ –∏–∑ /reactions. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `reaction_id`, —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π."
      responses:
        '200':
          description: —Ä–µ–∞–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      tags:
        - reactions
      summary: –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ–∞–∫—Ü–∏–∏ —Å –ø–æ—Å—Ç–∞
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–¥–∞–ª–∏—Ç—å —Å–≤–æ—é —Ä–µ–∞–∫—Ü–∏—é —Å –ø–æ—Å—Ç–∞.
      security:
        - BearerAuth: []
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: reaction_id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: –†–µ–∞–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '404':
          description: –†–µ–∞–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /media:
    post:
      tags:
        - posts
      summary: –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ CDN.
      security:
        - BearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
      responses:
        '200':
          description: —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  response:
                    type: object
                    properties:
                      url:
                        type: string
                        format: uri
                        example: "https://cdn.example.com/uploads/image1.jpg"
                      id:
                        type: string
                        format: uuid
                        example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
                
  /reactions:
    get:
      tags:
        - reactions
      summary: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π (—Å–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω, –Ω–æ–≤—ã–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ–ª—å–∑—è)
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π. –†–µ–∞–∫—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –≤–∏–¥–∂–µ—Ç–µ, –ø–æ-–∞–Ω–∞–ª–æ–≥–∏–∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ telegram.
      security:
        - BearerAuth: []
      responses:
        '200':
          description: –ú–∞—Å—Å–∏–≤ —Ä–µ–∞–∫—Ü–∏–π —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  reactions:
                    type: array
                    items:
                      $ref: '#/components/schemas/Reaction'
                  page:
                    type: number
                    format: int32
                  limit:
                    type: number
                    format: int32
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /users/subscriptions:
    post:
      tags:
        - subscriptions
      summary: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥—Ä—É–≥–æ–≥–æ
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Subscription'
      responses:
        '200':
          description: –ø–æ–¥–ø–∏—Å–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      tags:
        - subscriptions
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
      description: –ú–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
      security:
        - BearerAuth: []
      parameters:
        - name: page
          in: query
          description: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ (1 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
          required: false
          schema:
            type: number
            format: int32
        - name: limit
          in: query
          description: –õ–∏–º–∏—Ç –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É (10 –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
          required: false
          schema:
            type: number
            format: int32
      responses:
        '200':
          description: –ú–∞—Å—Å–∏–≤ –ø–æ–¥–ø–∏—Å–æ–∫ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  subscriptions:
                    type: array
                    items:
                      $ref: '#/components/schemas/Subscription'
                  page:
                    type: number
                    format: int32
                  limit:
                    type: number
                    format: int32
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /users/subscriptions/{relatedUserId}:
    delete:
      tags:
        - subscriptions
      summary: –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      parameters:
        - name: relatedUserId
          in: path
          description: id of related user
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: –ø–æ–¥–ø–∏—Å–∫–∞ —É–¥–∞–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Success'
        '400':
          description: –ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /locations:
    get:
      tags:
        - locations
      summary: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ª–æ–∫–∞—Ü–∏–π –ø–æ –≤–≤–µ–¥–µ–Ω–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É
      description: –ú–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–∏—Å–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ª–æ–∫–∞—Ü–∏–π –ø–æ –≤–≤–µ–¥–µ–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—É.
      security:
        - BearerAuth: []
      parameters:
        - name: pattern
          in: query
          required: true
          schema:
            type: string
            format: text
          example: "–ú–æ—Å–∫–≤–∞"
      responses:
        '200':
          description: –ú–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    $ref: '#/components/schemas/Status'
                  locations:
                    type: array
                    items:
                      $ref: '#/components/schemas/Geo'
                  page:
                    type: number
                    format: int32
                  limit:
                    type: number
                    format: int32
        '400':
          description: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∑–∞–ø—Ä–æ—Å–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: –õ–æ–∫–∞—Ü–∏–∏ –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞—Ü–∏–π
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Post:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        description:
          type: string
          format: text
          example: "lorem ipsum ..."
          maxLength: 500
        geo:
          $ref: "#/components/schemas/Geo"
        user_id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        created_at:
          type: string
          format: date-time
          example: "2017-07-21T17:32:28Z"
        updated_at:
          type: string
          format: date-time
          example: "2017-07-21T17:32:28Z"
        photos_urls:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
                example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
              url:
                type: string
                example: "https://someurl.ru/photo1.png"
          minItems: 1
          maxItems: 5
    PostCreateUpdate:
      type: object
      properties:
        description:
          type: string
          format: text
          example: "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–∞"
          maxLength: 500
        geo:
          $ref: "#/components/schemas/Geo"
        photos_urls:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
                example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
              url:
                type: string
                example: "https://someurl.ru/photo1.png"
          minItems: 1
          maxItems: 5
    GetPost:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status'
        response:
          type: object
          allOf:
            - $ref: '#/components/schemas/Post'
            - type: object
              properties:
                reactions:
                  type: array
                  items:
                    $ref: '#/components/schemas/Reaction'
    Geo:
      type: object
      properties:
        location_name:
          type: string
          nullable: true
          example: "New-York"
        location_id:
          type: string
          format: uuid
          nullable: true
        lat:
          type: number
          format: float
          minimum: -90
          maximum: 90
          example: 41.40338
          nullable: true
        lon:
          type: number
          format: float
          minimum: -90
          maximum: 90
          example: 41.40338
          nullable: true
    Comment:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        post_id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        text:
          type: string
          format: text
          example: "lorem ipsum ..."
          maxLength: 250
        user_id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        created_at:
          type: string
          format: date-time
          example: "2017-07-21T17:32:28Z"
    Subscription:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        user_id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        related_user_id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        created_at:
          type: string
          format: date-time
          example: "2017-07-21T17:32:28Z"
    Reaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "50cd76c4-1c65-4415-bff4-e77c6e3474da"
        emoji:
          type: string
          example: "üî•"
        counter:
          type: number
          format: int32
    Error:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status'
        error_code:
          type: string
          enum:
            - invalid_user
            - access_denied
            - not_found
            - server_error
        error:
          type: string
          example: "invalid user_id"
          description: –°–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π
    Success:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/Status'
    Status:
      type: string
      enum: [success, error]
      description: –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
